import{defaultMusicSrc,}from'./defaultData.js';var $keysList=document.getElementsByClassName('key');function MusicPlay(defaultMusicSrc,key){return new Promise((resplve,reject)=>{if(defaultMusicSrc[key]){let newAudio=new Audio();newAudio.src=defaultMusicSrc[key].src;newAudio.autoplay=true;newAudio.addEventListener("ended",()=>{newAudio.removeEventListener("ended",()=>{});newAudio=null;});resplve();}else{reject("无此音乐文件");};});};function clickMusicKnock(e){let key=e.target.className.split("num")[1];MusicPlay(defaultMusicSrc,key).then(()=>{},(err)=>{},)};for(let i in $keysList){if(typeof $keysList[i]=="object"){$keysList[i].addEventListener("touchstart",(e)=>clickMusicKnock(e))}}
